<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rational Expressions Adventure üçé</title>
<style>
/* ---- BASE STYLES ---- */
body {
    margin: 0;
    padding: 0;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background: #f5f0e6;
    color: #5a3e2b;
}

h1, h2, h3 {
    text-align: center;
    font-family: 'Comic Sans MS', cursive;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
}

/* ---- LESSON SECTIONS ---- */
.lesson-section {
    background: #fff8f0;
    border: 2px solid #f1d9c1;
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    position: relative;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    transition: transform 0.3s;
}

.lesson-section:hover {
    transform: scale(1.02);
}

.tip {
    background: #ffe6cc;
    border-left: 5px solid #ff9933;
    padding: 10px;
    margin: 10px 0;
    border-radius: 8px;
    font-style: italic;
    animation: floatTip 2s infinite alternate;
}

@keyframes floatTip {
    0% { transform: translateY(0px); }
    100% { transform: translateY(-5px); }
}

.animation-area {
    min-height: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 10px 0;
}

.apple {
    width: 40px;
    height: 40px;
    background: red;
    border-radius: 50%;
    display: inline-block;
    position: relative;
    margin: 0 5px;
    animation: bounce 0.6s ease infinite alternate;
}

@keyframes bounce {
    0% { transform: translateY(0); }
    100% { transform: translateY(-10px); }
}

/* ---- QUIZ & DRAG-AND-DROP ---- */
.quiz, .drag-exercise {
    margin-top: 15px;
    padding: 15px;
    background: #fff3e6;
    border-radius: 10px;
    border: 2px dashed #f1d9c1;
}

.quiz button, .dropzone {
    background: #f1d9c1;
    border: none;
    padding: 10px 15px;
    margin: 5px;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
}

.quiz button:hover, .dropzone:hover {
    background: #ffcc99;
}

.feedback {
    margin-top: 10px;
    font-weight: bold;
}

/* DRAG ITEMS */
.draggable {
    display: inline-block;
    padding: 5px 10px;
    margin: 5px;
    background: #fff0e6;
    border-radius: 8px;
    cursor: grab;
}

/* DROP ZONE */
.dropzone {
    min-width: 100px;
    min-height: 40px;
    border: 2px dashed #f1d9c1;
    display: inline-flex;
    justify-content: center;
    align-items: center;
}

/* RATIONAL EXPRESSION DISPLAY */
.expression {
    font-size: 1.5em;
    margin: 10px 0;
    padding: 10px;
    background: #fff0e6;
    border-radius: 10px;
    text-align: center;
    display: inline-block;
    min-width: 150px;
}

.highlight {
    background-color: #ffff99;
    transition: 0.5s;
}

.sparkle {
    position: absolute;
    width: 20px;
    height: 20px;
    background: gold;
    border-radius: 50%;
    animation: sparkleAnim 0.5s ease forwards;
}

@keyframes sparkleAnim {
    0% { transform: scale(0); opacity: 1; }
    100% { transform: scale(1.5); opacity: 0; }
}

.wrong-animation {
    animation: unravel 0.8s forwards;
}

@keyframes unravel {
    0% { transform: rotate(0deg); opacity: 1; }
    100% { transform: rotate(360deg); opacity: 0; }
}

/* RESPONSIVE */
@media (max-width: 600px) {
    .expression {
        font-size: 1.2em;
    }

    .quiz button, .dropzone {
        padding: 8px 12px;
        margin: 3px;
    }
}
</style>
</head>
<body>
<div class="container">
<h1>üçé Rational Expressions Adventure üçè</h1>

<!-- INTRO -->
<div class="lesson-section">
<h2>Welcome to the Orchard of Math!</h2>
<p>Hi there! I'm Applejack, and today we‚Äôll explore <strong>rational expressions</strong> in a cozy, interactive way. üçé</p>
<div class="tip">Pony Tip: Rational expressions are fractions with polynomials in numerator and denominator!</div>
</div>

<!-- LESSON 1: Evaluating -->
<div class="lesson-section">
<h2>Lesson 1: Evaluating Rational Expressions</h2>
<p>Example: <span class="expression">(x¬≤ - 1) / (x - 1)</span></p>
<ol>
<li>Factor numerator: x¬≤-1 = (x-1)(x+1)</li>
<li>Cancel common factor: (x-1)/(x-1) = 1</li>
<li>Answer: x + 1</li>
</ol>
<div class="tip">Pony Tip: Only cancel factors, not terms added/subtracted!</div>

<!-- DRAG AND DROP EXERCISE -->
<p>Drag the correct factor to cancel:</p>
<div class="drag-exercise">
<div class="draggable" draggable="true" id="drag1">x-1</div>
<div class="draggable" draggable="true" id="drag2">x+1</div>
<div class="dropzone" id="dropEval">Drop here</div>
</div>
<div class="feedback" id="feedbackEval"></div>

<!-- MINI QUIZ -->
<p>Mini-Quiz: Evaluate (x¬≤ - 9)/(x-3) when x=4</p>
<div class="quiz">
<button onclick="checkAnswer(7, 'eval')">7</button>
<button onclick="checkAnswer(5, 'eval')">5</button>
<button onclick="checkAnswer(8, 'eval')">8</button>
</div>
<div class="feedback" id="quizFeedbackEval"></div>
</div>

<!-- LESSON 2: Simplifying -->
<div class="lesson-section">
<h2>Lesson 2: Simplifying Rational Expressions</h2>
<p>Simplify: (x¬≤ - 9)/(x+3)</p>
<ol>
<li>Factor numerator: x¬≤-9=(x-3)(x+3)</li>
<li>Cancel common factor: (x+3)/(x+3)=1</li>
<li>Answer: x-3</li>
</ol>
<div class="tip">Pony Tip: Always factor first before cancelling!</div>

<div class="drag-exercise">
<p>Drag the factor to cancel:</p>
<div class="draggable" draggable="true" id="drag3">x+3</div>
<div class="draggable" draggable="true" id="drag4">x-3</div>
<div class="dropzone" id="dropSimplify">Drop here</div>
</div>
<div class="feedback" id="feedbackSimplify"></div>
</div>

<!-- LESSON 3: Addition/Subtraction -->
<div class="lesson-section">
<h2>Lesson 3: Adding & Subtracting</h2>
<p>Add: 1/x + 2/(x+1)</p>
<ol>
<li>Common denominator: x(x+1)</li>
<li>Rewrite fractions: (1*(x+1))/[x(x+1)] + (2*x)/[x(x+1)]</li>
<li>Add numerators: (x+1 + 2x)/[x(x+1)] = (3x+1)/[x(x+1)]</li>
</ol>
<div class="tip">Pony Tip: Factor before adding for tricky expressions!</div>

<div class="drag-exercise">
<p>Drag to combine numerators:</p>
<div class="draggable" draggable="true" id="drag5">x+1</div>
<div class="draggable" draggable="true" id="drag6">2x</div>
<div class="dropzone" id="dropAdd">Drop here</div>
</div>
<div class="feedback" id="feedbackAdd"></div>

<div class="quiz">
<p>Mini-Quiz: 3/(x) + 4/(x+2) = ?</p>
<button onclick="checkAnswer('3x+4(x+2)', 'add')">3x+4(x+2)</button>
<button onclick="checkAnswer('7x+2', 'add')">7x+2</button>
<button onclick="checkAnswer('3+4', 'add')">3+4</button>
</div>
<div class="feedback" id="quizFeedbackAdd"></div>
</div>

<!-- LESSON 4: Multiplication/Division -->
<div class="lesson-section">
<h2>Lesson 4: Multiplication & Division</h2>
<p>Multiply: (x)/(x+2) * (x+2)/(x¬≤-4)</p>
<ol>
<li>Factor denominators: x¬≤-4=(x-2)(x+2)</li>
<li>Cancel common: (x+2)/(x+2)=1</li>
<li>Answer: x/(x-2)</li>
</ol>
<div class="tip">Pony Tip: Cancel before multiplying!</div>

<div class="drag-exercise">
<p>Drag factors to cancel:</p>
<div class="draggable" draggable="true" id="drag7">x+2</div>
<div class="draggable" draggable="true" id="drag8">x-2</div>
<div class="dropzone" id="dropMult">Drop here</div>
</div>
<div class="feedback" id="feedbackMult"></div>

<p>Division Example: (x¬≤-4)/(x+2) √∑ (x-2)/(x+1)</p>
<ol>
<li>Factor: x¬≤-4=(x-2)(x+2)</li>
<li>Keep Change Flip: multiply by reciprocal</li>
<li>Cancel common: x+2, x-2</li>
<li>Answer: x+1</li>
</ol>
<div class="tip">Pony Tip: Remember "Keep, Change, Flip"!</div>
</div>

<!-- LESSON 5: Mixed Challenge -->
<div class="lesson-section">
<h2>Lesson 5: Mixed Challenges</h2>
<p>Solve and simplify: (x¬≤-1)/(x-1) + 2/(x+1)</p>
<ol>
<li>Factor numerator: x¬≤-1=(x-1)(x+1)</li>
<li>Find common denominator: x-1 & x+1 ‚Üí (x-1)(x+1)</li>
<li>Rewrite fractions: 1*(x+1)/(x-1)(x+1) + 2*(x-1)/(x-1)(x+1)</li>
<li>Add numerators: x+1 + 2x-2 = 3x-1</li>
<li>Answer: (3x-1)/[(x-1)(x+1)]</li>
</ol>
<div class="tip">Pony Tip: Always simplify step by step for tricky combos!</div>

<div class="drag-exercise">
<p>Drag terms to combine numerators:</p>
<div class="draggable" draggable="true" id="drag9">x+1</div>
<div class="draggable" draggable="true" id="drag10">2(x-1)</div>
<div class="dropzone" id="dropMixed">Drop here</div>
</div>
<div class="feedback" id="feedbackMixed"></div>
</div>

<!-- SUMMARY -->
<div class="lesson-section">
<h2>üéâ Great Job! Pony Tips Recap</h2>
<ul>
<li>Factor first before simplifying.</li>
<li>Cancel only factors, never terms added/subtracted.</li>
<li>Use common denominators for addition/subtraction.</li>
<li>"Keep, Change, Flip" for division.</li>
<li>Double-check by plugging in numbers!</li>
</ul>
<div class="animation-area">
<div class="apple"></div><div class="apple"></div><div class="apple"></div>
</div>
</div>
</div>

<script>
// GENERAL QUIZ LOGIC
function checkAnswer(answer, quizID) {
    let feedback = document.getElementById('quizFeedback'+quizID.charAt(0).toUpperCase()+quizID.slice(1));
    let correct;
    switch(quizID) {
        case 'eval': correct=7; break;
        case 'add': correct='3x+4(x+2)'; break;
    }
    if(answer==correct){
        feedback.innerHTML="Correct! üçè‚ú®";
        feedback.style.color="green";
        createSparkle();
    } else {
        feedback.innerHTML="Oops! Try again üß∂";
        feedback.style.color="red";
        createUnravel();
    }
}

// SPARKLE & UNRAVEL
function createSparkle() {
    const sparkle = document.createElement('div');
    sparkle.classList.add('sparkle');
    document.body.appendChild(sparkle);
    sparkle.style.left = Math.random()*window.innerWidth+'px';
    sparkle.style.top = Math.random()*window.innerHeight+'px';
    setTimeout(()=>{sparkle.remove();},600);
}

function createUnravel() {
    const unravel = document.createElement('div');
    unravel.classList.add('wrong-animation');
    document.body.appendChild(unravel);
    setTimeout(()=>{unravel.remove();},800);
}

// DRAG AND DROP LOGIC
const draggables = document.querySelectorAll('.draggable');
const dropzones = document.querySelectorAll('.dropzone');

draggables.forEach(drag => {
    drag.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text', drag.id);
    });
});

dropzones.forEach(zone => {
    zone.addEventListener('dragover', e => e.preventDefault());
    zone.addEventListener('drop', e => {
        e.preventDefault();
        const id = e.dataTransfer.getData('text');
        const dragged = document.getElementById(id);
        zone.innerHTML = dragged.innerText;
        zone.style.backgroundColor = '#ccffcc';
        createSparkle();
        const feedbackId = 'feedback'+zone.id.charAt(0).toUpperCase()+zone.id.slice(1);
        const feedback = document.getElementById(feedbackId);
        feedback.innerHTML="Good job! üçé";
        feedback.style.color="green";
    });
});
</script>
</body>
</html>
