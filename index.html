<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rational Expressions — Survival Mode</title>
  <style>
    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      background: radial-gradient(circle at top, #1a1a2e, #05050a);
      color: #e6e6eb;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .game {
      width: 92%;
      max-width: 820px;
      background: linear-gradient(180deg, #16162a, #0e0e1a);
      border: 2px solid #6b6bff;
      border-radius: 18px;
      padding: 26px;
      box-shadow: 0 0 40px rgba(107,107,255,0.35);
      animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      text-align: center;
      font-size: 2.2em;
      color: #9d9dff;
      margin-bottom: 6px;
      letter-spacing: 1px;
    }

    h2 {
      text-align: center;
      font-weight: normal;
      color: #b3b3ff;
      margin-top: 0;
      font-size: 1em;
    }

    .stage {
      margin-top: 22px;
      font-size: 1.05em;
      line-height: 1.7;
      white-space: pre-line;
    }

    .choices button, .start-btn {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 12px;
      background: #1f1f38;
      color: #e6e6eb;
      border: 1px solid #6b6bff;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1em;
      transition: all 0.15s ease;
    }

    .choices button:hover, .start-btn:hover {
      background: #6b6bff;
      color: #05050a;
      transform: translateY(-1px);
    }

    .status {
      margin-top: 16px;
      font-style: italic;
      color: #b3b3ff;
      min-height: 1.2em;
    }

    .footer {
      margin-top: 24px;
      text-align: center;
      font-size: 0.85em;
      color: #7777aa;
    }
  </style>
</head>
<body>
  <div class="game">
    <h1>Rational Expressions</h1>
    <h2>Survival Mode — Grade 8 Edition</h2>

    <div id="stage" class="stage"></div>
    <div id="choices" class="choices"></div>
    <div id="status" class="status"></div>

    <div class="footer">Built for overthinking students who hate boring math</div>
  </div>

  <script>
    const stages = [
      {
        text: "LEVEL 1 — WHAT EVEN IS A RATIONAL EXPRESSION?\n\nA rational expression is a fraction where the numerator or denominator (or both) are POLYNOMIALS.\n\nWhich of these is a rational expression?",
        choices: [
          { text: "(x + 1) / (x - 2)", correct: true },
          { text: "√x + 3", correct: false },
          { text: "x² + 5", correct: false }
        ]
      },
      {
        text: "LEVEL 2 — EVALUATING (PLUG IT IN).\n\nReplace x with the given number.\n\nEvaluate (x + 1)/(x - 2) when x = 3.",
        choices: [
          { text: "4", correct: true },
          { text: "1", correct: false },
          { text: "Undefined", correct: false }
        ]
      },
      {
        text: "LEVEL 3 — SIMPLIFY OR SUFFER.\n\nFactor FIRST. Then cancel.\n\nSimplify (x² - 4)/(x - 2).",
        choices: [
          { text: "x + 2", correct: true },
          { text: "x - 2", correct: false },
          { text: "1", correct: false }
        ]
      },
      {
        text: "LEVEL 4 — UNDEFINED ZONE.\n\nA rational expression is undefined when the denominator equals ZERO.\n\nWhich value breaks (x + 5)/(x - 3)?",
        choices: [
          { text: "x = 3", correct: true },
          { text: "x = -5", correct: false },
          { text: "x = 0", correct: false }
        ]
      },
      {
        text: "LEVEL 5 — ADD & SUBTRACT.\n\nYou CANNOT add fractions with different denominators.\n\nFirst step when adding 1/x + 1/(x + 1)?",
        choices: [
          { text: "Find a common denominator", correct: true },
          { text: "Add numerators instantly", correct: false },
          { text: "Give up", correct: false }
        ]
      },
      {
        text: "LEVEL 6 — MULTIPLY & DIVIDE.\n\nMultiply straight across.\nDivide? Flip the second fraction.\n\nWhy do we flip?",
        choices: [
          { text: "Dividing by a fraction means multiplying by its reciprocal", correct: true },
          { text: "It looks edgy", correct: false },
          { text: "Math ritual", correct: false }
        ]
      }
    ];

    let currentStage = -1;

    const stageDiv = document.getElementById("stage");
    const choicesDiv = document.getElementById("choices");
    const statusDiv = document.getElementById("status");

    function showTitleScreen() {
      stageDiv.textContent = "WELCOME.\n\nThis is a short survival game designed to teach rational expressions from scratch.\n\nNo timers. No grades. Just survive the lessons.";
      choicesDiv.innerHTML = "";
      statusDiv.textContent = "";

      const startBtn = document.createElement("button");
      startBtn.textContent = "▶ START GAME";
      startBtn.className = "start-btn";
      startBtn.onclick = () => {
        currentStage = 0;
        loadStage();
      };

      choicesDiv.appendChild(startBtn);
    }

    function loadStage() {
      if (currentStage >= stages.length) {
        stageDiv.textContent = "YOU SURVIVED.\n\nYou now understand rational expressions well enough to start SOLVING them.";
        choicesDiv.innerHTML = "";
        statusDiv.textContent = "Achievement unlocked: Math Survivor";
        return;
      }

      const stage = stages[currentStage];
      stageDiv.textContent = stage.text;
      choicesDiv.innerHTML = "";
      statusDiv.textContent = "";

      stage.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice.text;
        btn.onclick = () => {
          if (choice.correct) {
            statusDiv.textContent = "Correct. Advancing…";
            currentStage++;
            setTimeout(loadStage, 700);
          } else {
            statusDiv.textContent = "Wrong. Try again.";
          }
        };
        choicesDiv.appendChild(btn);
      });
    }

    showTitleScreen();
  </script>
</body>
</html>
